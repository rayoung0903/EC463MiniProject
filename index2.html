<!DOCTYPE html>
<head>
    <title>Sensor Remote Access</title>

    <h1>Temperature Sensor Remote Access</h1>
    <link rel="stylesheet" href="Plotpage.css" />
</head>
<body>

    <p>
        <h3>Joaquin Giorgi & Ruiyang Shi</h3>

        <script src="plotly-latest.min.js"></script>

        <div id="myDiv">

            <script src="https://www.gstatic.com/firebasejs/5.4.1/firebase-database.js">
                var config = {
                    apiKey: "AIzaSyDGvdNFeIr9xLMpmHZt1GT70wCaMdWsFIo",
                    authDomain: "sensordatabase-d5de9.firebaseapp.com",
                    databaseURL: "https://sensordatabase-d5de9.firebaseio.com",
                    storageBucket: "bucket.appspot.com"
                };
                firebase.initializeApp(config);
                var database = firebase.database;
                console.log("hey");
                function UpdateGraph(array) {
                    console.log("hey");
                    console.log(array);
                    var tempTrace1 = {
                        x: x1,
                        y: array,
                        type: 'scatter'
                    }
                    var data = [tempTrace1];
                    Plotly.newPlot('myDiv', data);
                }

                var getTemp = firebase.database().ref('users/0/temp_array');
                getTemp.on('value', function (snapshot) {
                    UpdateGraph(snapshot.val());
                });
                var graphTimer = setInterval(updateSensor, 500);
                var x1 = [];
                var y1 = [];

                var i;
                for (i = 0; i < 100; i++) {
                    x1.push(i);
                    y1.push(19 + Math.random());
                }
                    //var x1 = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
                    //var y1 = [20, 21.5, 19, 19.5, 19, 20, 20, 20, 20, 20];

               //    var tempTrace1 = {
                // 		x: x1,
                // 		y: y1,
                // 		type: 'scatter'
                        // };
                        // var data = [tempTrace1];
               //    Plotly.newPlot('myDiv', data);


            </script>


        </div>




</body>

</html>